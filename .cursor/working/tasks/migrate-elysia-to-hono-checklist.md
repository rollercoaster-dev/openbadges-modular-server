# Migration Checklist: Elysia.js â†’ Hono

This checklist tracks the migration progress for each Elysia usage and related pattern in the codebase. Mark each item as complete after refactoring and verifying the change.

---

## App/Server Instantiation
- [x] `src/index.ts`: Replace Elysia app/server instantiation, plugins, and startup logic with Hono equivalents.

## Routers
- [ ] `src/api/backpack.router.ts`: Refactor router construction and exports.
- [ ] `src/api/user.router.ts`: Refactor router construction and exports.

## Controllers & Serialization
- [x] `src/api/controllers/assets.controller.ts`: Refactor router and serialization logic.
- [ ] `src/api/controllers/badgeClass.controller.ts`: Remove Elysia serialization workaround.
- [ ] `src/api/controllers/issuer.controller.ts`: Remove Elysia serialization workaround.
- [ ] `src/api/controllers/assertion.controller.ts`: Remove Elysia serialization workaround.

## Hono Migration Critical Checklist
- [ ] **Ensure all routers, sub-routers, and controller routers are instances of `Hono` or `OpenAPIHono` only.**
- [ ] **Remove all Elysia routers and Elysia-specific code from router composition.**
- [ ] **Verify all router composition in `api.router.ts`, `index.ts`, and any feature routers use only Hono types.**
- [ ] **Re-run typecheck after refactor.**

**Note:**
- Type errors such as `Argument of type 'Elysia<...>' is not assignable to parameter of type 'MiddlewareHandler<...>'` are caused by mixing Elysia and Hono routers. The solution is to unify all router types to Hono and remove Elysia from the codebase.

## Middleware & Context
- [ ] `src/utils/validation/validation-middleware.ts`: Refactor Context usage, status handling, and validation logic for Hono.
- [ ] `src/utils/logging/request-context.middleware.ts`: Refactor Elysia context and hooks to Hono middleware.
- [ ] `src/utils/security/security.middleware.ts`: Refactor security middleware and replace plugins (rate-limit, helmet) with Hono-compatible versions.
- [ ] `src/utils/security/middleware/rate-limit.middleware.ts`: Refactor rate limiting for Hono.
- [ ] `src/utils/security/middleware/security-headers.middleware.ts`: Refactor security headers for Hono.
- [ ] `src/utils/errors/error-handler.middleware.ts`: Refactor error and not-found handlers for Hono.
- [ ] `src/api/static-assets.middleware.ts`: Refactor static assets middleware for Hono.

## Auth Middleware
- [ ] `src/auth/middleware/auth.middleware.ts`: Refactor authentication middleware for Hono.
- [ ] `src/auth/middleware/platform-auth.middleware.ts`: Refactor platform auth middleware for Hono.

---

## Progress Tracking
- Mark each item as complete after code refactor, lint/type-check, and verification.
- Add new items if additional Elysia patterns are discovered during migration.
- Keep this file updated as the single source of truth for migration status.

---

*Generated by David, migration lead.*
